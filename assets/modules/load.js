const d = document,
ls=window.localStorage;

export default function loading(){
    if(ls.getItem('loaded')===null){loadd();ls.setItem('loaded',JSON.stringify({time: Date.now()}))};
    if((Date.now()-JSON.parse(ls.getItem('loaded')).time)>86400000){loadd();ls.setItem('loaded',JSON.stringify({time: Date.now()}))};
   
}
function loadd(){
    d.body.classList.add("loading");
    const load = d.querySelector(".load");
    load.innerHTML=`<svg width="197" height="118" viewBox="0 0 197 118" fill="none" xmlns="http://www.w3.org/2000/svg" id="svg">
    <circle cx="99.0168" cy="24.9319" r="24.4319" stroke="white" id="circle"/>
    <path d="M104.82 22.366C104.142 20.8959 102.702 19.4306 100.256 17.9983C100.6 18.082 100.957 18.1719 101.324 18.2679C104.103 18.9953 107.378 20.0598 109.536 21.4203C110.621 22.1047 111.347 22.8177 111.635 23.5318C111.901 24.1897 111.83 24.9384 111.087 25.841C110.321 26.7706 108.868 27.8207 106.455 28.9693C104.875 29.7217 102.901 30.508 100.471 31.3265C101.68 30.4703 102.953 29.3931 103.885 28.1546C105.121 26.5123 105.807 24.5067 104.82 22.366Z" stroke="white" class="blue"/>
    <path d="M92.9585 35.9434C93.7822 37.2165 94.9103 38.3241 95.9806 39.2034C93.8889 38.3806 92.1863 37.5901 90.8204 36.8338C88.7071 35.6636 87.4359 34.5947 86.7645 33.6466C86.109 32.7209 86.0329 31.927 86.2781 31.2205C86.5359 30.4781 87.1768 29.751 88.1208 29.058C90.0061 27.6738 92.8733 26.5879 95.3129 25.8442C95.6201 25.7505 95.9196 25.6626 96.2084 25.5804C94.0194 27.0639 92.7371 28.5785 92.1392 30.0885C91.2856 32.2439 91.8724 34.2646 92.9585 35.9434Z" stroke="white" class="blue"/>
    <path d="M99.942 11.0215C99.942 12.0609 99.1353 12.871 98.1795 12.871C97.2237 12.871 96.417 12.0609 96.417 11.0215C96.417 9.98209 97.2237 9.172 98.1795 9.172C99.1353 9.172 99.942 9.98209 99.942 11.0215Z" stroke="white" class="blue"/>
    <path d="M36.0348 91.0314H40.6716V78.2652H45.683V74.574H31V78.2652H36.0348V91.0314Z" fill="white"/>
    <path d="M53.1255 91.3605C57.9964 91.3605 60.385 88.9154 60.385 86.0471C60.385 79.9814 51.0881 81.8623 51.0881 79.3467C51.0881 78.5238 51.7907 77.8655 53.7344 77.8655C55.1628 77.8655 56.7084 78.2887 58.2774 79.1351L59.7059 75.679C58.0901 74.7386 55.8888 74.2449 53.7578 74.2449C48.8869 74.2449 46.4982 76.6429 46.4982 79.5818C46.4982 85.6945 55.8186 83.7901 55.8186 86.3998C55.8186 87.1992 55.0692 87.7399 53.1489 87.7399C51.2521 87.7399 49.1913 87.0816 47.7394 86.1177L46.2172 89.5502C47.7628 90.6317 50.4324 91.3605 53.1255 91.3605Z" fill="white"/>
    <path d="M65.7874 91.0314H70.4242V78.2652H75.4356V74.574H60.7526V78.2652H65.7874V91.0314Z" fill="white"/>
    <path d="M89.7388 91.3605C94.6097 91.3605 96.9983 88.9154 96.9983 86.0471C96.9983 79.9814 87.7014 81.8623 87.7014 79.3467C87.7014 78.5238 88.404 77.8655 90.3476 77.8655C91.7761 77.8655 93.3217 78.2887 94.8907 79.1351L96.3192 75.679C94.7034 74.7386 92.5021 74.2449 90.3711 74.2449C85.5002 74.2449 83.1115 76.6429 83.1115 79.5818C83.1115 85.6945 92.4318 83.7901 92.4318 86.3998C92.4318 87.1992 91.6825 87.7399 89.7622 87.7399C87.8654 87.7399 85.8046 87.0816 84.3527 86.1177L82.8305 89.5502C84.3761 90.6317 87.0457 91.3605 89.7388 91.3605Z" fill="white"/>
    <path d="M111.411 91.0314H116.235L108.976 74.574H104.409L97.173 91.0314H101.903L103.191 87.8339H110.123L111.411 91.0314ZM104.55 84.4014L106.657 79.1351L108.765 84.4014H104.55Z" fill="white"/>
    <path d="M117.55 91.0314H130.008V87.3402H122.186V74.574H117.55V91.0314Z" fill="white"/>
    <path d="M139.247 91.3605C144.094 91.3605 146.951 88.6098 146.951 83.6961V74.574H142.385V83.555C142.385 86.3763 141.214 87.5048 139.294 87.5048C137.35 87.5048 136.179 86.3763 136.179 83.555V74.574H131.542V83.6961C131.542 88.6098 134.399 91.3605 139.247 91.3605Z" fill="white"/>
    <path d="M150.092 91.0314H157.844C163.277 91.0314 167 87.8575 167 82.8027C167 77.7479 163.277 74.574 157.844 74.574H150.092V91.0314ZM154.729 87.3167V78.2887H157.656C160.443 78.2887 162.316 79.9579 162.316 82.8027C162.316 85.6475 160.443 87.3167 157.656 87.3167H154.729Z" fill="white"/>
    <g clip-path="url(#clip0)" id="var">
        <rect width="197" height="6" rx="3" fill="#535C66" id="var-cont"/>
        <rect x="-2" width="0" height="90" fill="white" id="var-charge"/>
        </g>
        <defs>
        <clipPath id="clip0">
        <rect width="197" height="6" rx="3" fill="white"/>
        </clipPath>
        </defs>
    
    </svg>`;
     let a = document.querySelectorAll("#svg path,circle");
 
 a.forEach(e=>{
     e.style.setProperty("stroke-dasharray",`${e.getTotalLength()}px`)
    
 })
 
 a.forEach(e=>{
     e.animate(
        [ {
         strokeDashoffset:`${e.getTotalLength()}px`
     },{
         strokeDashoffset:`0px`
     }],{
         // timing options
         duration: 3000,
         iterations: 1,
         fill:"forwards"
       }
 
     )
 })
 
 setTimeout(() => {
     document.body.classList.remove("loading");
     
 }, 4100);
   }